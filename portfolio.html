<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作品集 - DK设计师作品集</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <script src="components/header.js"></script>
    <script src="components/footer.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-b from-bg-primary to-bg-secondary">
    <!-- 导航栏 -->
    <dk-header></dk-header>

    <!-- 作品集内容 -->
    <section class="pt-32 pb-24 px-10">
        <div class="max-w-[2000px] mx-auto">
            <div class="mb-12">
                <h1 class="text-4xl md:text-5xl font-bold mb-6 gradient-text">我的作品集</h1>
                <p class="text-text-secondary text-lg max-w-2xl">探索我的设计作品，每个项目都展现了独特的创意和专业的解决方案。</p>
            </div>

            <!-- 项目过滤器 -->
            <div class="flex flex-wrap gap-4 mb-12">
                <button class="btn active filter-btn" data-category="all">全部</button>
                <button class="btn filter-btn" data-category="UI/UX设计">UI/UX设计</button>
                <button class="btn filter-btn" data-category="品牌设计">品牌设计</button>
                <button class="btn filter-btn" data-category="网站设计">网站设计</button>
            </div>

            <!-- 项目网格 -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="projectsGrid">
                <!-- 项目卡片将通过JavaScript动态加载 -->
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <dk-footer></dk-footer>

    <script>
        // 加载项目数据
        async function loadProjects() {
            try {
                const projects = JSON.parse(localStorage.getItem('apiProjects')) || [];
                displayProjects(projects);
            } catch (error) {
                console.error('加载项目失败:', error);
            }
        }

        // 显示项目
        function displayProjects(projects) {
            const container = document.getElementById('projectsGrid');
            container.innerHTML = '';

            projects.forEach(project => {
                const card = document.createElement('div');
                card.className = 'card group cursor-pointer transform hover:scale-[1.02] transition-all duration-300';
                card.setAttribute('data-category', project.category);
                card.innerHTML = `
                    <div class="relative overflow-hidden rounded-xl aspect-[4/3]">
                        <img src="${project.cover}" alt="${project.title}" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex items-end">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold mb-2 text-white">${project.title}</h3>
                                <p class="text-gray-300">${project.category}</p>
                            </div>
                        </div>
                    </div>
                `;
                card.addEventListener('click', () => {
                    window.location.href = `portfolio-detail.html?id=${project.id}`;
                });
                container.appendChild(card);
            });
        }

        // 过滤器功能
        document.querySelectorAll('.filter-btn').forEach(button => {
            button.addEventListener('click', () => {
                const category = button.getAttribute('data-category');
                
                // 更新按钮状态
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                button.classList.add('active');

                // 过滤项目
                const projects = JSON.parse(localStorage.getItem('apiProjects')) || [];
                const filteredProjects = category === 'all' 
                    ? projects 
                    : projects.filter(project => project.category === category);
                
                displayProjects(filteredProjects);
            });
        });

        // 初始加载
        document.addEventListener('DOMContentLoaded', loadProjects);
    </script>
</body>
</html> 